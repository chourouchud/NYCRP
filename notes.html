<!DOCTYPE html>
<html>

<head>
  <title>Strike Logs</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .strike-form {
      margin-bottom: 20px;
    }

    .strike-form input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
    }

    .strike-log-container {
      display: flex;
      flex-direction: column;
    }

    .strike-log-item {
      margin-bottom: 10px;
      padding: 10px;
      background-color: #f5f5f5;
    }

    .strike-log-item span {
      display: block;
      margin-bottom: 10px;
    }

    .edit-actions {
      margin-top: 10px;
    }

    .edit-button,
    .save-button,
    .cancel-button,
    .delete-button {
      display: inline-block;
      padding: 5px 10px;
      margin-right: 5px;
      cursor: pointer;
    }

    .edit-button {
      background-color: #007bff;
      color: #fff;
      border: none;
    }

    .save-button {
      background-color: #28a745;
      color: #fff;
      border: none;
    }

    .cancel-button,
    .delete-button {
      background-color: #dc3545;
      color: #fff;
      border: none;
    }

    .popup {
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 9999;
    }

    .popup-content {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      text-align: center;
    }

    .popup-message {
      margin-bottom: 10px;
    }

    .popup-actions {
      display: flex;
      justify-content: center;
    }

    .popup-button {
      display: inline-block;
      padding: 5px 10px;
      margin: 0 5px;
      cursor: pointer;
    }

    .popup-button.confirm {
      background-color: #28a745;
      color: #fff;
      border: none;
    }

    .popup-button.cancel {
      background-color: #dc3545;
      color: #fff;
      border: none;
    }
  </style>
</head>

<body>
  <h1>Strike Logs</h1>

  <div class="strike-form">
    <input type="text" id="user-input" placeholder="User">
    <input type="text" id="reason-input" placeholder="Reason">
    <input type="text" id="sequential-input" placeholder="Strike Sequential">
    <input type="text" id="approvedby-input" placeholder="Approved by">
    <button id="create-strike-button">Create Strike</button>
  </div>

  <div class="strike-log-container" id="strike-log-container"></div>

  <div class="popup" id="delete-confirmation-popup">
    <div class="popup-content">
      <div class="popup-message" id="delete-confirmation-message">Are you sure you want to delete this strike?</div>
      <div class="popup-actions">
        <button class="popup-button confirm" id="delete-confirmation-yes">Yes</button>
        <button class="popup-button cancel" id="delete-confirmation-no">No</button>
      </div>
    </div>
  </div>

  <div class="popup" id="clear-confirmation-popup">
    <div class="popup-content">
      <div class="popup-message" id="clear-confirmation-message">Are you sure you want to delete all the strikes?</div>
      <div class="popup-actions">
        <button class="popup-button confirm" id="clear-confirmation-yes">Yes</button>
        <button class="popup-button cancel" id="clear-confirmation-no">No</button>
      </div>
    </div>
  </div>

  <script>
    const strikeLogContainer = document.getElementById('strike-log-container');
    const createStrikeButton = document.getElementById('create-strike-button');
    const deleteConfirmationPopup = document.getElementById('delete-confirmation-popup');
    const deleteConfirmationYesButton = document.getElementById('delete-confirmation-yes');
    const deleteConfirmationNoButton = document.getElementById('delete-confirmation-no');
    const clearConfirmationPopup = document.getElementById('clear-confirmation-popup');
    const clearConfirmationYesButton = document.getElementById('clear-confirmation-yes');
    const clearConfirmationNoButton = document.getElementById('clear-confirmation-no');

    let strikeLogData = [];

    // Render Strike Log
    const renderStrikeLog = () => {
      strikeLogContainer.innerHTML = '';

      strikeLogData.forEach((strike, index) => {
        const strikeLogItem = document.createElement('div');
        strikeLogItem.classList.add('strike-log-item');

        const strikeLogItemText = document.createElement('span');
        strikeLogItemText.innerHTML = `User: ${strike.user}<br>Reason: ${strike.reason}<br>Strike Sequential: ${strike.sequential}<br>Approved by: ${strike.approvedBy}`;
        strikeLogItem.appendChild(strikeLogItemText);

        const editButton = document.createElement('button');
        editButton.innerText = 'Edit';
        editButton.classList.add('edit-button');
        editButton.addEventListener('click', () => editStrike(index));
        strikeLogItem.appendChild(editButton);

        const deleteButton = document.createElement('button');
        deleteButton.innerText = 'Delete';
        deleteButton.classList.add('delete-button');
        deleteButton.addEventListener('click', () => showDeleteConfirmation(index));
        strikeLogItem.appendChild(deleteButton);

        strikeLogContainer.appendChild(strikeLogItem);
      });
    };

    // Create Strike
    const createStrike = () => {
      const userInput = document.getElementById('user-input').value.trim();
      const reasonInput = document.getElementById('reason-input').value.trim();
      const sequentialInput = document.getElementById('sequential-input').value.trim();
      const approvedByInput = document.getElementById('approvedby-input').value.trim();

      if (userInput && reasonInput && sequentialInput && approvedByInput) {
        const strike = {
          user: userInput,
          reason: reasonInput,
          sequential: sequentialInput,
          approvedBy: approvedByInput
        };

        strikeLogData.push(strike);
        renderStrikeLog();

        document.getElementById('user-input').value = '';
        document.getElementById('reason-input').value = '';
        document.getElementById('sequential-input').value = '';
        document.getElementById('approvedby-input').value = '';
      }
    };

    // Show Delete Confirmation
    const showDeleteConfirmation = (index) => {
      const deleteConfirmationMessage = document.getElementById('delete-confirmation-message');
      deleteConfirmationMessage.innerText = `Are you sure you want to delete this strike?`;

      deleteConfirmationYesButton.addEventListener('click', () => {
        deleteStrike(index);
        hideDeleteConfirmation();
      });

      deleteConfirmationNoButton.addEventListener('click', () => {
        hideDeleteConfirmation();
      });

      deleteConfirmationPopup.style.display = 'flex';
    };

    // Hide Delete Confirmation
    const hideDeleteConfirmation = () => {
      deleteConfirmationPopup.style.display = 'none';
    };

    // Delete Strike
    const deleteStrike = (index) => {
      strikeLogData.splice(index, 1);
      renderStrikeLog();
    };

    // Show Clear Confirmation
    const showClearConfirmation = () => {
      const clearConfirmationMessage = document.getElementById('clear-confirmation-message');
      clearConfirmationMessage.innerText = `Are you sure you want to delete all the strikes?`;

      clearConfirmationYesButton.addEventListener('click', () => {
        clearStrikes();
        hideClearConfirmation();
      });

      clearConfirmationNoButton.addEventListener('click', () => {
        hideClearConfirmation();
      });

      clearConfirmationPopup.style.display = 'flex';
    };

    // Hide Clear Confirmation
    const hideClearConfirmation = () => {
      clearConfirmationPopup.style.display = 'none';
    };

    // Clear Strikes
    const clearStrikes = () => {
      strikeLogData = [];
      renderStrikeLog();
    };

    // Edit Strike
    const editStrike = (index) => {
      const strike = strikeLogData[index];

      const strikeLogItem = strikeLogContainer.children[index];
      const strikeLogItemText = strikeLogItem.querySelector('span');

      const editButton = strikeLogItem.querySelector('.edit-button');
      const deleteButton = strikeLogItem.querySelector('.delete-button');

      const userText = strike.user;
      const reasonText = strike.reason;
      const sequentialText = strike.sequential;
      const approvedByText = strike.approvedBy;

      strikeLogItemText.innerHTML = `
        User: <input type="text" class="edit-user-input" value="${userText}">
        Reason: <input type="text" class="edit-reason-input" value="${reasonText}">
        Strike Sequential: <input type="text" class="edit-sequential-input" value="${sequentialText}">
        Approved by: <input type="text" class="edit-approvedby-input" value="${approvedByText}">
      `;

      const saveButton = document.createElement('button');
      saveButton.innerText = 'Save';
      saveButton.classList.add('save-button');
      saveButton.addEventListener('click', () => saveStrike(index));
      strikeLogItem.appendChild(saveButton);

      const cancelButton = document.createElement('button');
      cancelButton.innerText = 'Cancel';
      cancelButton.classList.add('cancel-button');
      cancelButton.addEventListener('click', () => cancelEdit(index));
      strikeLogItem.appendChild(cancelButton);

      editButton.style.display = 'none';
      deleteButton.style.display = 'none';
    };

    // Save Strike
    const saveStrike = (index) => {
      const strikeLogItem = strikeLogContainer.children[index];
      const strikeLogItemText = strikeLogItem.querySelector('span');

      const userInput = strikeLogItem.querySelector('.edit-user-input').value.trim();
      const reasonInput = strikeLogItem.querySelector('.edit-reason-input').value.trim();
      const sequentialInput = strikeLogItem.querySelector('.edit-sequential-input').value.trim();
      const approvedByInput = strikeLogItem.querySelector('.edit-approvedby-input').value.trim();

      if (userInput && reasonInput && sequentialInput && approvedByInput) {
        strikeLogData[index] = {
          user: userInput,
          reason: reasonInput,
          sequential: sequentialInput,
          approvedBy: approvedByInput
        };

        strikeLogItemText.innerHTML = `
          User: ${userInput}<br>
          Reason: ${reasonInput}<br>
          Strike Sequential: ${sequentialInput}<br>
          Approved by: ${approvedByInput}
        `;

        strikeLogItem.removeChild(strikeLogItem.querySelector('.save-button'));
        strikeLogItem.removeChild(strikeLogItem.querySelector('.cancel-button'));

        const editButton = strikeLogItem.querySelector('.edit-button');
        const deleteButton = strikeLogItem.querySelector('.delete-button');

        editButton.style.display = 'inline-block';
        deleteButton.style.display = 'inline-block';
      }
    };

    // Cancel Edit
    const cancelEdit = (index) => {
      const strike = strikeLogData[index];

      const strikeLogItem = strikeLogContainer.children[index];
      const strikeLogItemText = strikeLogItem.querySelector('span');

      strikeLogItemText.innerHTML = `
        User: ${strike.user}<br>
        Reason: ${strike.reason}<br>
        Strike Sequential: ${strike.sequential}<br>
        Approved by: ${strike.approvedBy}
      `;

      strikeLogItem.removeChild(strikeLogItem.querySelector('.save-button'));
      strikeLogItem.removeChild(strikeLogItem.querySelector('.cancel-button'));

      const editButton = strikeLogItem.querySelector('.edit-button');
      const deleteButton = strikeLogItem.querySelector('.delete-button');

      editButton.style.display = 'inline-block';
      deleteButton.style.display = 'inline-block';
    };

    // Event Listeners
    createStrikeButton.addEventListener('click', createStrike);

    window.addEventListener('click', (event) => {
      if (event.target === deleteConfirmationPopup) {
        hideDeleteConfirmation();
      }

      if (event.target === clearConfirmationPopup) {
        hideClearConfirmation();
      }
    });

    renderStrikeLog();
  </script>
</body>

</html>
